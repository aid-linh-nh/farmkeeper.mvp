<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FARMKEEPER - Chi Tiết Hồ Sơ Kỹ Thuật</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Noto Sans', 'sans-serif'],
            },
            colors: {
              farmkeeper: {
                DEFAULT: '#69BD70',
                50: '#F2F9F3',
                100: '#E2F1E4',
                200: '#C6E3C9',
                300: '#A9D5AF',
                400: '#8DC894',
                500: '#69BD70',
                600: '#53A85B',
                700: '#3E8E46',
                800: '#2A7332',
                900: '#16591D',
              },
            },
          },
        },
      };
    </script>
    <style>
      :root {
        --fk-green: #69bd70;
        --fk-green-dark: #3e8e46;
        --card-bg: #ffffff;
        --card-border: #eef2f7;
        --body-bg: #f8fafc;
        --text-primary: #1e293b;
        --text-secondary: #64748b;
      }
      body {
        font-family: 'Noto Sans', sans-serif;
        background-color: var(--body-bg);
        color: var(--text-primary);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      .custom-scroll::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      .custom-scroll::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 3px;
      }
      .custom-scroll::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
      .custom-scroll::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      .sidebar-menu-item.active {
        background-color: var(--fk-green-50, #f2f9f3);
        color: var(--fk-green-dark);
        font-weight: 600;
      }
      .sidebar-menu-item.active::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background-color: var(--fk-green);
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
      }
      .card {
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        border-radius: 1rem;
      }
      .tab-btn.active {
        border-color: var(--fk-green);
        color: var(--fk-green-dark);
        font-weight: 600;
      }
      .modal-backdrop {
        transition: opacity 0.3s ease;
      }
      .detail-item {
        display: grid;
        grid-template-columns: 160px 1fr;
        align-items: start;
        padding: 0.75rem 0;
        border-bottom: 1px solid var(--card-border);
      }
      .detail-item:last-child {
        border-bottom: none;
      }
      .detail-label {
        font-size: 0.875rem;
        color: var(--text-secondary);
      }
      .detail-value {
        font-size: 0.95rem;
        color: var(--text-primary);
        font-weight: 500;
      }
    </style>
  </head>
  <body class="bg-slate-50 text-gray-800">
    <div class="flex h-screen bg-white">
      <!-- Sidebar -->
      <aside class="w-64 flex-shrink-0 border-r border-gray-100 flex flex-col">
        <div
          class="h-16 flex items-center justify-center px-4 border-b border-gray-100"
        >
          <a href="#" class="flex items-center space-x-2">
            <i class="fas fa-seedling text-3xl text-farmkeeper"></i>
            <span class="text-xl font-bold tracking-wider text-gray-800"
              >FARM<span class="text-farmkeeper">KEEPER</span></span
            >
          </a>
        </div>
        <nav class="flex-1 py-4 px-3 custom-scroll overflow-y-auto">
          <ul class="space-y-1">
            <li>
              <a
                href="#"
                class="sidebar-menu-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-50 relative"
                ><i class="fas fa-tachometer-alt w-6 text-center mr-3"></i>Bảng
                điều khiển</a
              >
            </li>
            <li>
              <a
                href="#"
                class="sidebar-menu-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-50 relative"
                ><i class="fas fa-tree w-6 text-center mr-3"></i>Quản lý vườn</a
              >
            </li>
            <li>
              <div class="p-3 rounded-lg bg-farmkeeper-50">
                <h3
                  class="text-sm font-semibold text-farmkeeper-700 flex items-center"
                >
                  <i class="fas fa-users w-6 text-center mr-3"></i>Quản lý nhân
                  sự
                </h3>
                <ul
                  class="mt-2 space-y-1 pl-5 border-l-2 border-farmkeeper-200 ml-4"
                >
                  <li>
                    <a
                      href="#"
                      class="sidebar-menu-item active flex items-center py-2 px-3 rounded-md text-sm relative"
                      >Kỹ thuật viên</a
                    >
                  </li>
                  <li>
                    <a
                      href="#"
                      class="sidebar-menu-item flex items-center py-2 px-3 rounded-md text-sm text-gray-600 hover:bg-gray-50 relative"
                      >Nông dân</a
                    >
                  </li>
                  <li>
                    <a
                      href="#"
                      class="sidebar-menu-item flex items-center py-2 px-3 rounded-md text-sm text-gray-600 hover:bg-gray-50 relative"
                      >Quản lý</a
                    >
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </nav>
        <div class="p-4 border-t border-gray-100">
          <div class="flex items-center space-x-3">
            <img
              class="h-10 w-10 rounded-full object-cover"
              src="https://placehold.co/100x100/69BD70/FFFFFF?text=A"
              alt="Admin avatar"
            />
            <div>
              <p class="font-semibold text-gray-800">Admin</p>
              <a
                href="#"
                class="text-xs text-gray-500 hover:text-farmkeeper-600"
                >Đăng xuất <i class="fas fa-sign-out-alt ml-1"></i
              ></a>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col bg-slate-50">
        <!-- Top Bar -->
        <header
          class="h-16 bg-white border-b border-gray-100 flex items-center justify-between px-6 flex-shrink-0 shadow-sm"
        >
          <nav class="text-sm text-gray-500" aria-label="Breadcrumb">
            <ol class="list-none p-0 inline-flex items-center">
              <li class="flex items-center">
                <a href="#" class="hover:text-farmkeeper-600">Quản lý nhân sự</a
                ><i class="fas fa-chevron-right mx-3 text-xs"></i>
              </li>
              <li class="flex items-center">
                <a href="#" class="hover:text-farmkeeper-600"
                  >Nhân sự kỹ thuật</a
                ><i class="fas fa-chevron-right mx-3 text-xs"></i>
              </li>
              <li>
                <span class="text-gray-800 font-medium">Chi tiết hồ sơ</span>
              </li>
            </ol>
          </nav>
        </header>

        <!-- Main view area -->
        <main class="flex-1 overflow-y-auto custom-scroll p-6 lg:p-8">
          <div
            class="bg-white rounded-2xl p-6 lg:p-8 mb-8 shadow-lg shadow-farmkeeper-200/50"
            style="
              background: linear-gradient(135deg, #f2f9f3 0%, #ffffff 100%);
            "
          >
            <div
              class="flex flex-col lg:flex-row items-start lg:items-center justify-between"
            >
              <div class="flex items-center space-x-6">
                <img
                  src="https://placehold.co/128x128/3E8E46/FFFFFF?text=AN"
                  alt="Avatar"
                  class="w-28 h-28 rounded-full border-4 border-white shadow-xl"
                />
                <div>
                  <div class="flex items-center gap-3">
                    <h1 class="text-3xl font-bold text-gray-800">
                      Nguyễn Văn An
                    </h1>
                    <span
                      class="px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 border border-green-200"
                      >Đang hoạt động</span
                    >
                  </div>
                  <p class="text-farmkeeper-700 font-semibold text-lg mt-1">
                    Kỹ thuật viên - Cấp bậc Senior
                  </p>
                  <p class="text-sm text-gray-500 mt-2">
                    Mã nhân viên:
                    <span class="font-medium text-gray-700">KTV4581</span> -
                    Vùng: <span class="font-medium text-gray-700">Đắk Lắk</span>
                  </p>
                </div>
              </div>
              <div class="flex items-center space-x-3 mt-6 lg:mt-0">
                <button
                  class="bg-gradient-to-r from-farmkeeper-500 to-farmkeeper-600 text-white px-5 py-2.5 rounded-lg font-semibold shadow-lg shadow-farmkeeper-500/30 transition hover:scale-105"
                >
                  <i class="fas fa-pencil-alt mr-2"></i>Chỉnh sửa
                </button>
              </div>
            </div>
          </div>

          <div class="card p-6 lg:p-8">
            <!-- A. Thông Tin Cá Nhân & Liên Hệ -->
            <section class="mb-10">
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-4"
              >
                A. Thông Tin Cá Nhân & Liên Hệ
              </h3>
              <div class="grid grid-cols-1 xl:grid-cols-2 gap-x-8">
                <div>
                  <h4 class="font-semibold text-gray-600 mb-2 text-md">
                    Thông tin cá nhân
                  </h4>
                  <div class="divide-y divide-gray-100">
                    <div class="detail-item">
                      <span class="detail-label">Ngày sinh</span
                      ><span class="detail-value">20/10/1995</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-label">Giới tính</span
                      ><span class="detail-value">Nam</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-label">Số CCCD/CMND</span
                      ><span class="detail-value">001234567890</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-label">Số điện thoại</span
                      ><span class="detail-value">0912 345 678</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-label">Email</span
                      ><span class="detail-value">nguyen.van.an@email.com</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-label">Địa chỉ thường trú</span
                      ><span class="detail-value"
                        >123 Đường Y Jút, Phường Tân Lợi, TP. Buôn Ma Thuột,
                        Tỉnh Đắk Lắk</span
                      >
                    </div>
                  </div>
                </div>
                <div class="space-y-6 mt-6 xl:mt-0">
                  <div>
                    <h4 class="font-semibold text-gray-600 mb-2 text-md">
                      Thông tin gia đình
                    </h4>
                    <div class="divide-y divide-gray-100">
                      <div class="detail-item">
                        <span class="detail-label">Tình trạng hôn nhân</span
                        ><span class="detail-value">Đã kết hôn</span>
                      </div>
                      <div class="detail-item">
                        <span class="detail-label">Số con</span
                        ><span class="detail-value">1</span>
                      </div>
                      <div class="detail-item">
                        <span class="detail-label">Người liên hệ khẩn cấp</span
                        ><span class="detail-value"
                          >Nguyễn Thị Bình (Vợ)<br /><span
                            class="text-sm text-gray-500"
                            >0987 654 321</span
                          ></span
                        >
                      </div>
                    </div>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-600 mb-2 text-md">
                      Thông tin ngân hàng
                    </h4>
                    <div class="divide-y divide-gray-100">
                      <div class="detail-item">
                        <span class="detail-label">Ngân hàng</span
                        ><span class="detail-value">Vietcombank</span>
                      </div>
                      <div class="detail-item">
                        <span class="detail-label">Số tài khoản</span
                        ><span class="detail-value">0123456789</span>
                      </div>
                      <div class="detail-item">
                        <span class="detail-label">Chủ tài khoản</span
                        ><span class="detail-value">NGUYEN VAN AN</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mt-6">
                <h4 class="font-semibold text-gray-600 mb-2 text-md">
                  Ghi chú
                </h4>
                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                  <p
                    class="text-gray-600 text-sm whitespace-pre-wrap leading-relaxed"
                  >
                    Có kinh nghiệm dày dặn về cây sầu riêng tại khu vực Tây
                    Nguyên.
                  </p>
                </div>
              </div>
            </section>

            <!-- B. Thông Tin Định Danh & Trạng thái -->
            <section class="mb-10">
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-4"
              >
                B. Thông Tin Định Danh & Trạng thái
              </h3>
              <div class="divide-y divide-gray-100">
                <div class="detail-item">
                  <span class="detail-label">Mã nhân viên</span
                  ><span class="detail-value">KTV4581</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Ngày vào làm</span
                  ><span class="detail-value">15/08/2022</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Trạng thái</span
                  ><span class="detail-value"
                    ><span
                      class="px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800"
                      >Đang hoạt động</span
                    ></span
                  >
                </div>
              </div>
            </section>

            <!-- C. Thông Tin Vai Trò & Năng Lực -->
            <section class="mb-10">
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-4"
              >
                C. Thông Tin Vai Trò & Năng Lực
              </h3>
              <div class="divide-y divide-gray-100">
                <div class="detail-item">
                  <span class="detail-label">Chức danh</span
                  ><span class="detail-value">Kỹ thuật viên</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Chuyên môn chính</span
                  ><span class="detail-value">Sầu riêng, Cây có múi</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Cấp bậc</span
                  ><span class="detail-value">Senior</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Hệ số Cấp bậc</span
                  ><span class="detail-value">1.2</span>
                </div>
              </div>
            </section>

            <!-- D. Thông tin Nhân sự & Đãi ngộ -->
            <section class="mb-10">
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-4"
              >
                D. Thông tin Nhân sự & Đãi ngộ
              </h3>
              <div class="divide-y divide-gray-100">
                <div class="detail-item">
                  <span class="detail-label">Lương Cơ bản</span
                  ><span class="detail-value">18,000,000 VNĐ</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Loại Hợp đồng</span
                  ><span class="detail-value">Xác định thời hạn</span>
                </div>
              </div>
            </section>

            <!-- E. Thông Tin Quản Lý & Phân Công -->
            <section class="mb-10">
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-4"
              >
                E. Thông Tin Quản Lý & Phân Công
              </h3>
              <div class="divide-y divide-gray-100">
                <div class="detail-item">
                  <span class="detail-label">Người quản lý</span
                  ><span class="detail-value">Lê Thị Minh</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Vùng phụ trách</span
                  ><span class="detail-value">Đắk Lắk</span>
                </div>
              </div>
              <div class="mt-6">
                <label class="block text-sm font-medium text-gray-600 mb-2"
                  >Danh sách Vườn đang phụ trách</label
                >
                <div
                  class="bg-slate-50 p-4 rounded-md border border-slate-200 h-64 overflow-y-auto custom-scroll"
                >
                  <ul class="space-y-3">
                    <li
                      class="p-3 rounded-md bg-white border flex justify-between items-center"
                    >
                      <div>
                        <p class="font-semibold text-gray-800">
                          Vườn sầu riêng ông Năm
                        </p>
                        <p class="text-xs text-gray-500">
                          FARM_DL_001 | 6.2 ha
                        </p>
                      </div>
                      <div class="text-right">
                        <p class="text-xs text-gray-500">HS Phức tạp</p>
                        <span
                          class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800"
                          >1.32</span
                        >
                      </div>
                    </li>
                    <li
                      class="p-3 rounded-md bg-white border flex justify-between items-center"
                    >
                      <div>
                        <p class="font-semibold text-gray-800">Vườn anh Bảy</p>
                        <p class="text-xs text-gray-500">
                          FARM_DL_012 | 1.8 ha
                        </p>
                      </div>
                      <div class="text-right">
                        <p class="text-xs text-gray-500">HS Phức tạp</p>
                        <span
                          class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"
                          >0.81</span
                        >
                      </div>
                    </li>
                    <li
                      class="p-3 rounded-md bg-white border flex justify-between items-center"
                    >
                      <div>
                        <p class="font-semibold text-gray-800">
                          Trang trại GreenFarm
                        </p>
                        <p class="text-xs text-gray-500">
                          FARM_DL_025 | 8.0 ha
                        </p>
                      </div>
                      <div class="text-right">
                        <p class="text-xs text-gray-500">HS Phức tạp</p>
                        <span
                          class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"
                          >1.55</span
                        >
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </section>

            <!-- F. Thông Tin Hiệu Suất -->
            <section class="mb-10">
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-6"
              >
                F. Thông Tin Hiệu Suất
              </h3>
              <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                  <button
                    type="button"
                    class="tab-btn active whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"
                    data-target="current-performance"
                  >
                    Kỳ hiện tại
                  </button>
                  <button
                    type="button"
                    class="tab-btn text-gray-500 hover:text-gray-700 whitespace-nowrap py-3 px-1 border-b-2 border-transparent font-medium text-sm"
                    data-target="performance-history"
                  >
                    Lịch sử
                  </button>
                </nav>
              </div>
              <div class="mt-6">
                <div id="current-performance" class="tab-content">
                  <div
                    class="bg-slate-50 p-4 rounded-md border border-slate-200 mb-6"
                  >
                    <p class="text-sm">
                      <span class="font-semibold text-gray-500"
                        >Kỳ đánh giá:</span
                      >
                      Q4/2025
                    </p>
                    <p class="text-sm mt-1">
                      <span class="font-semibold text-gray-500"
                        >Bộ Khung Áp dụng:</span
                      >
                      Tối ưu Đầu vào & Liên kết Đầu ra
                    </p>
                  </div>
                  <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-500">
                      <thead
                        class="text-xs text-gray-500 uppercase bg-slate-100"
                      >
                        <tr>
                          <th class="px-4 py-3">Tên KPI</th>
                          <th class="px-4 py-3 text-center">Trọng số</th>
                          <th class="px-4 py-3">Mục tiêu</th>
                          <th class="px-4 py-3">Thực tế</th>
                          <th class="px-4 py-3 w-1/4">Hoàn thành</th>
                          <th class="px-4 py-3 text-center">Điểm</th>
                        </tr>
                      </thead>
                      <tbody class="divide-y divide-gray-100">
                        <tr class="hover:bg-slate-50">
                          <td class="px-4 py-4 font-medium text-gray-800">
                            Doanh số Vật tư
                          </td>
                          <td class="px-4 py-4 text-center">35%</td>
                          <td class="px-4 py-4">432 Tr</td>
                          <td class="px-4 py-4">450 Tr</td>
                          <td class="px-4 py-4">
                            <div class="w-full bg-gray-200 rounded-full h-2">
                              <div
                                class="bg-green-500 h-2 rounded-full"
                                style="width: 100%"
                              ></div>
                            </div>
                            <p class="text-xs text-right mt-1">104%</p>
                          </td>
                          <td
                            class="px-4 py-4 text-center font-bold text-green-600"
                          >
                            1.0
                          </td>
                        </tr>
                        <tr class="hover:bg-slate-50">
                          <td class="px-4 py-4 font-medium text-gray-800">
                            Chất lượng Nông sản
                          </td>
                          <td class="px-4 py-4 text-center">15%</td>
                          <td class="px-4 py-4">95 điểm</td>
                          <td class="px-4 py-4">98 điểm</td>
                          <td class="px-4 py-4">
                            <div class="w-full bg-gray-200 rounded-full h-2">
                              <div
                                class="bg-green-500 h-2 rounded-full"
                                style="width: 100%"
                              ></div>
                            </div>
                            <p class="text-xs text-right mt-1">103%</p>
                          </td>
                          <td
                            class="px-4 py-4 text-center font-bold text-green-600"
                          >
                            1.0
                          </td>
                        </tr>
                        <tr class="hover:bg-slate-50">
                          <td class="px-4 py-4 font-medium text-gray-800">
                            Tỷ lệ Chuyển đổi HĐ
                          </td>
                          <td class="px-4 py-4 text-center">15%</td>
                          <td class="px-4 py-4">60%</td>
                          <td class="px-4 py-4">50%</td>
                          <td class="px-4 py-4">
                            <div class="w-full bg-gray-200 rounded-full h-2">
                              <div
                                class="bg-yellow-500 h-2 rounded-full"
                                style="width: 83%"
                              ></div>
                            </div>
                            <p class="text-xs text-right mt-1">83%</p>
                          </td>
                          <td
                            class="px-4 py-4 text-center font-bold text-yellow-600"
                          >
                            0.8
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div
                    class="mt-6 bg-slate-50 p-6 rounded-lg border border-slate-200"
                  >
                    <div
                      class="flex flex-col sm:flex-row justify-between sm:items-center mb-4"
                    >
                      <h4 class="font-semibold text-gray-800">
                        Tổng kết Hiệu suất & Thưởng
                      </h4>
                      <button
                        type="button"
                        class="open-bonus-modal-btn mt-2 sm:mt-0 bg-farmkeeper-100 hover:bg-farmkeeper-200 text-farmkeeper-800 font-bold py-2 px-3 rounded-lg flex items-center text-xs transition"
                      >
                        <i data-lucide="calculator" class="w-4 h-4 mr-2"></i>
                        Xem Chi tiết Tính thưởng
                      </button>
                    </div>
                    <div
                      class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center"
                    >
                      <div class="bg-white border p-4 rounded-lg">
                        <p class="text-sm text-gray-500">Điểm Hiệu Suất</p>
                        <p class="text-2xl font-bold text-farmkeeper-700">
                          1.04
                        </p>
                        <p class="text-xs text-gray-500 mt-1">Xếp loại: Tốt</p>
                      </div>
                      <div class="bg-white border p-4 rounded-lg">
                        <p class="text-sm text-gray-500">Thưởng Cá nhân</p>
                        <p class="text-2xl font-bold text-gray-800">
                          36,000,000
                        </p>
                        <p class="text-xs text-gray-500 mt-1">VNĐ</p>
                      </div>
                      <div
                        class="bg-farmkeeper-50 border border-farmkeeper-200 p-4 rounded-lg"
                      >
                        <p class="text-sm text-farmkeeper-800">
                          Thưởng Cuối Cùng
                        </p>
                        <p class="text-2xl font-bold text-farmkeeper-800">
                          39,600,000
                        </p>
                        <p class="text-xs text-farmkeeper-700 mt-1">
                          VNĐ (Đã nhân HS Kinh doanh)
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="performance-history" class="tab-content hidden">
                  <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left">
                      <thead
                        class="text-xs text-gray-500 uppercase bg-slate-100"
                      >
                        <tr>
                          <th class="px-4 py-3">Kỳ đánh giá</th>
                          <th class="px-4 py-3 text-center">Điểm</th>
                          <th class="px-4 py-3 text-center">Xếp loại</th>
                          <th class="px-4 py-3 text-right">Thưởng</th>
                          <th class="px-4 py-3 text-center">Hành động</th>
                        </tr>
                      </thead>
                      <tbody class="divide-y">
                        <tr class="hover:bg-slate-50">
                          <td class="px-4 py-4 font-medium">Q3/2025</td>
                          <td
                            class="px-4 py-4 text-center font-bold text-green-600"
                          >
                            1.12
                          </td>
                          <td class="px-4 py-4 text-center">
                            <span
                              class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800"
                              >Tốt</span
                            >
                          </td>
                          <td class="px-4 py-4 text-right font-medium">
                            33,000,000 VNĐ
                          </td>
                          <td class="px-4 py-4 text-center">
                            <button
                              type="button"
                              class="text-farmkeeper-600 hover:underline text-xs open-bonus-modal-btn"
                            >
                              Xem chi tiết
                            </button>
                          </td>
                        </tr>
                        <tr class="hover:bg-slate-50">
                          <td class="px-4 py-4 font-medium">Q2/2025</td>
                          <td
                            class="px-4 py-4 text-center font-bold text-violet-600"
                          >
                            1.21
                          </td>
                          <td class="px-4 py-4 text-center">
                            <span
                              class="px-2 py-1 text-xs font-medium rounded-full bg-violet-100 text-violet-800"
                              >Vượt trội</span
                            >
                          </td>
                          <td class="px-4 py-4 text-right font-medium">
                            54,000,000 VNĐ
                          </td>
                          <td class="px-4 py-4 text-center">
                            <button
                              type="button"
                              class="text-farmkeeper-600 hover:underline text-xs open-bonus-modal-btn"
                            >
                              Xem chi tiết
                            </button>
                          </td>
                        </tr>
                        <tr class="hover:bg-slate-50">
                          <td class="px-4 py-4 font-medium">Q1/2025</td>
                          <td
                            class="px-4 py-4 text-center font-bold text-yellow-600"
                          >
                            0.95
                          </td>
                          <td class="px-4 py-4 text-center">
                            <span
                              class="px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800"
                              >Đạt</span
                            >
                          </td>
                          <td class="px-4 py-4 text-right font-medium">
                            21,000,000 VNĐ
                          </td>
                          <td class="px-4 py-4 text-center">
                            <button
                              type="button"
                              class="text-farmkeeper-600 hover:underline text-xs open-bonus-modal-btn"
                            >
                              Xem chi tiết
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </section>

            <!-- G. Thông Tin Đào Tạo & Phát Triển -->
            <section class="mb-10">
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-4"
              >
                G. Thông Tin Đào Tạo & Phát Triển
              </h3>
              <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                <p
                  class="text-gray-600 text-sm whitespace-pre-wrap leading-relaxed"
                >
                  - Q1/2025: Kỹ thuật xử lý ra hoa nghịch vụ trên sầu riêng. -
                  Q2/2025: Kỹ năng đàm phán và thuyết phục khách hàng.
                </p>
              </div>
            </section>

            <!-- H. Quản Lý Tài Liệu & Hồ Sơ -->
            <section>
              <h3
                class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-4"
              >
                H. Quản Lý Tài Liệu & Hồ Sơ
              </h3>
              <ul
                class="divide-y divide-gray-100 border border-gray-200 rounded-lg"
              >
                <li
                  class="flex items-center justify-between p-4 hover:bg-gray-50"
                >
                  <div class="flex items-center">
                    <i class="fas fa-file-pdf text-red-500 text-2xl mr-4"></i>
                    <div>
                      <p class="font-medium">Hợp đồng lao động 2025.pdf</p>
                      <p class="text-sm text-gray-500">1.2 MB - 15/03/2025</p>
                    </div>
                  </div>
                  <a
                    href="#"
                    class="text-farmkeeper-600 hover:text-farmkeeper-800"
                    ><i class="fas fa-download"></i
                  ></a>
                </li>
                <li
                  class="flex items-center justify-between p-4 hover:bg-gray-50"
                >
                  <div class="flex items-center">
                    <i class="fas fa-file-word text-blue-500 text-2xl mr-4"></i>
                    <div>
                      <p class="font-medium">Bằng Đại học Nông Lâm.docx</p>
                      <p class="text-sm text-gray-500">870 KB - 15/03/2025</p>
                    </div>
                  </div>
                  <a
                    href="#"
                    class="text-farmkeeper-600 hover:text-farmkeeper-800"
                    ><i class="fas fa-download"></i
                  ></a>
                </li>
              </ul>
            </section>
          </div>
        </main>
      </div>
    </div>

    <!-- Bonus Calculation Logic Modal -->
    <div
      id="bonus-modal"
      class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden modal-backdrop opacity-0 z-50"
    >
      <div
        class="bg-white rounded-xl border border-gray-200 w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl"
      >
        <div
          class="flex justify-between items-center p-6 border-b border-gray-200 shrink-0"
        >
          <div>
            <h2 class="text-2xl font-bold text-gray-800">
              Chi tiết Logic Tính thưởng
            </h2>
            <p class="text-sm text-gray-500">Kỹ sư: Nguyễn Văn An</p>
          </div>
          <div class="flex items-center space-x-2">
            <button
              id="edit-bonus-btn"
              class="bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold py-2 px-3 rounded-lg flex items-center text-xs transition"
            >
              <i data-lucide="pencil" class="w-4 h-4 mr-2"></i>
              Chỉnh sửa
            </button>
            <button
              id="close-modal-btn"
              class="text-gray-400 hover:text-gray-700"
            >
              <i data-lucide="x" class="w-6 h-6"></i>
            </button>
          </div>
        </div>
        <div class="p-6 overflow-y-auto custom-scroll" id="modal-content-body">
          <!-- Dynamic content will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Confirmation Modal -->
    <div
      id="confirmation-modal"
      class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden modal-backdrop opacity-0 z-50"
    >
      <div
        class="bg-white rounded-xl border w-full max-w-lg p-6 lg:p-8 shadow-2xl text-center"
      >
        <div
          class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-amber-100"
        >
          <i data-lucide="alert-triangle" class="h-6 w-6 text-amber-600"></i>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 mt-4">
          Chuyển đến trang Cấu hình?
        </h3>
        <p class="text-sm text-gray-600 mt-2 max-w-md mx-auto">
          Bạn cần điều chỉnh cấu hình hệ số lương, hệ số bậc thưởng, quỹ
          thưởng...trong cấu hình ban đầu của kỳ đánh giá để áp dụng cho các
          nhân sự theo quy chế chung.
        </p>
        <div class="mt-6 flex justify-center space-x-3">
          <button
            id="cancel-redirect-btn"
            class="bg-white hover:bg-slate-100 border border-slate-300 text-slate-700 font-semibold py-2 px-4 rounded-lg transition"
          >
            Huỷ
          </button>
          <button
            id="confirm-redirect-btn"
            class="bg-farmkeeper-600 hover:bg-farmkeeper-700 text-white font-semibold py-2 px-4 rounded-lg transition"
          >
            Đồng ý & Chuyển trang
          </button>
        </div>
      </div>
    </div>

    <script>
      window.addEventListener('load', function () {
        lucide.createIcons();

        // Tab switching logic
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        if (tabButtons.length > 0) {
          tabButtons.forEach((button) => {
            button.addEventListener('click', () => {
              tabButtons.forEach((btn) => btn.classList.remove('active'));
              button.classList.add('active');
              const target = button.dataset.target;
              tabContents.forEach((content) => {
                content.classList.toggle('hidden', content.id !== target);
              });
            });
          });
        }

        // Modal Logic
        const bonusModal = document.getElementById('bonus-modal');
        const confirmationModal = document.getElementById('confirmation-modal');
        const openBonusModalBtns = document.querySelectorAll(
          '.open-bonus-modal-btn'
        );
        const closeModalBtn = document.getElementById('close-modal-btn');
        const editBonusBtn = document.getElementById('edit-bonus-btn');
        const cancelRedirectBtn = document.getElementById(
          'cancel-redirect-btn'
        );
        const confirmRedirectBtn = document.getElementById(
          'confirm-redirect-btn'
        );
        const modalTitle = bonusModal.querySelector('h2 + p');
        const modalBody = document.getElementById('modal-content-body');

        let currentPeriodKey = 'current';

        const performanceData = {
          current: {
            period: 'Kỳ Q4/2025',
            point: '1.04',
            salary: '18,000,000 VNĐ',
            fundMonths: '2.0',
            bizFactor: '1.1',
            baseBonus: '36,000,000 VNĐ',
            levelFactor: '1.0',
            personalBonus: '36,000,000 VNĐ',
            finalBonus: '39,600,000 VNĐ',
            finalBonusColor: 'text-green-600',
          },
          'Q3/2025': {
            period: 'Kỳ Q3/2025',
            point: '1.12',
            salary: '18,000,000 VNĐ',
            fundMonths: '2.0',
            bizFactor: '1.0',
            baseBonus: '36,000,000 VNĐ',
            levelFactor: '1.0',
            personalBonus: '30,000,000 VNĐ',
            finalBonus: '33,000,000 VNĐ',
            finalBonusColor: 'text-green-600',
          },
          'Q2/2025': {
            period: 'Kỳ Q2/2025',
            point: '1.21',
            salary: '18,000,000 VNĐ',
            fundMonths: '2.5',
            bizFactor: '1.2',
            baseBonus: '45,000,000 VNĐ',
            levelFactor: '1.2',
            personalBonus: '45,000,000 VNĐ',
            finalBonus: '54,000,000 VNĐ',
            finalBonusColor: 'text-violet-600',
          },
          'Q1/2025': {
            period: 'Kỳ Q1/2025',
            point: '0.95',
            salary: '17,500,000 VNĐ',
            fundMonths: '2.0',
            bizFactor: '0.9',
            baseBonus: '35,000,000 VNĐ',
            levelFactor: '0.8',
            personalBonus: '23,333,333 VNĐ',
            finalBonus: '21,000,000 VNĐ',
            finalBonusColor: 'text-yellow-600',
          },
        };

        function updateModalContent(periodKey) {
          currentPeriodKey = periodKey;
          const data = performanceData[periodKey] || performanceData['current'];
          modalTitle.textContent = `${data.period} - Kỹ sư: Nguyễn Văn An`;

          modalBody.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-6">
                        <div><h3 class="text-lg font-semibold text-gray-800 mb-3">1. Tham số Đầu vào</h3><div class="space-y-3 bg-slate-50 p-4 rounded-lg border"><div class="flex justify-between text-sm"><span class="text-gray-500">Điểm Hiệu Suất:</span><span class="font-bold text-green-600">${
                          data.point
                        }</span></div><div class="flex justify-between text-sm"><span class="text-gray-500">Lương Cơ bản:</span><span class="font-bold text-gray-800">${
            data.salary
          }</span></div></div></div>
                        <div><h3 class="text-lg font-semibold text-gray-800 mb-3">2. Tham số Hệ thống</h3><div class="space-y-3 bg-slate-50 p-4 rounded-lg border"><div class="flex justify-between items-center text-sm"><span class="text-gray-500">Giá trị Quỹ thưởng (tháng/quý):</span><span class="font-semibold text-gray-800">${
                          data.fundMonths
                        }</span></div><div class="flex justify-between items-center text-sm"><span class="text-gray-500">HS Kinh doanh Chung:</span><span class="font-semibold text-gray-800">${
            data.bizFactor
          }</span></div></div></div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-lg border">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 text-center">3. Quy trình Tính toán</h3>
                        <ol class="relative border-l border-gray-300 space-y-8">
                            <li class="ml-6"><span class="absolute flex items-center justify-center w-6 h-6 bg-farmkeeper-100 rounded-full -left-3 ring-4 ring-white"><span class="text-farmkeeper-700 font-bold text-xs">1</span></span><h4 class="font-semibold text-gray-600">Quỹ Thưởng Cơ Sở</h4><p class="text-xs text-gray-500">${
                              data.salary.split(' ')[0]
                            } × ${
            data.fundMonths
          } =</p><p class="font-bold text-lg text-gray-800">${
            data.baseBonus
          }</p></li>
                            <li class="ml-6"><span class="absolute flex items-center justify-center w-6 h-6 bg-farmkeeper-100 rounded-full -left-3 ring-4 ring-white"><span class="text-farmkeeper-700 font-bold text-xs">2</span></span><h4 class="font-semibold text-gray-600">HS Bậc Thưởng</h4><p class="text-xs text-gray-500">Điểm ${
                              data.point
                            } → Hệ số =</p><p class="font-bold text-lg text-gray-800">${
            data.levelFactor
          }</p></li>
                            <li class="ml-6"><span class="absolute flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full -left-3 ring-4 ring-white"><i data-lucide="award" class="w-4 h-4 text-blue-600"></i></span><h4 class="font-semibold text-gray-600">Thưởng Hiệu suất Cá nhân</h4><p class="text-xs text-gray-500">${
                              data.baseBonus.split(' ')[0]
                            } × ${
            data.levelFactor
          } =</p><p class="font-bold text-lg text-blue-600">${
            data.personalBonus
          }</p></li>
                            <li class="ml-6"><span class="absolute flex items-center justify-center w-6 h-6 bg-green-100 rounded-full -left-3 ring-4 ring-white"><i data-lucide="check-circle" class="w-4 h-4 text-green-600"></i></span><h4 class="font-semibold text-gray-600">Thưởng Cuối Cùng</h4><p class="text-xs text-gray-500">${
                              data.personalBonus.split(' ')[0]
                            } × ${
            data.bizFactor
          } =</p><p class="font-bold text-2xl ${data.finalBonusColor}">${
            data.finalBonus
          }</p></li>
                        </ol>
                    </div>
                </div>`;
          lucide.createIcons();
        }

        const openModal = (modalElement) => {
          modalElement.classList.remove('hidden');
          setTimeout(() => modalElement.classList.remove('opacity-0'), 10);
        };

        const closeModal = (modalElement) => {
          modalElement.classList.add('opacity-0');
          setTimeout(() => modalElement.classList.add('hidden'), 300);
        };

        openBonusModalBtns.forEach((btn) => {
          btn.addEventListener('click', (event) => {
            const row = btn.closest('tr');
            const period = row
              ? row.querySelector('td').textContent.trim()
              : 'current';
            updateModalContent(period);
            openModal(bonusModal);
          });
        });

        closeModalBtn.addEventListener('click', () => closeModal(bonusModal));
        bonusModal.addEventListener('click', (event) => {
          if (event.target === bonusModal) closeModal(bonusModal);
        });

        editBonusBtn.addEventListener('click', () => {
          closeModal(bonusModal);
          openModal(confirmationModal);
        });

        cancelRedirectBtn.addEventListener('click', () => {
          closeModal(confirmationModal);
          openModal(bonusModal);
        });

        confirmRedirectBtn.addEventListener('click', () => {
          console.log('Chuyển hướng đến trang cấu hình...');
          closeModal(confirmationModal);
          // Ở đây bạn có thể thêm logic chuyển trang, ví dụ:
          // window.location.href = '/trang-cau-hinh';
        });

        confirmationModal.addEventListener('click', (event) => {
          if (event.target === confirmationModal) closeModal(confirmationModal);
        });
      });
    </script>
  </body>
</html>
