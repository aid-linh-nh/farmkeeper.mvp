<!DOCTYPE html>
<html lang="vi" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hồ Sơ Nhân Viên - Hệ Thống Quản Lý Hiệu Suất</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom scrollbar for better aesthetics in dark mode */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937; /* gray-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #4b5563; /* gray-600 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280; /* gray-500 */
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 font-sans p-6 lg:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-white">Hồ Sơ Nhân Viên</h1>
            <p class="text-gray-400 mt-1">Quản lý thông tin, vai trò, và hiệu suất của đội ngũ kỹ sư.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Profile & Core Info -->
            <div class="lg:col-span-1">
                <div class="bg-gray-800 p-6 rounded-xl border border-gray-700 sticky top-8">
                    <div class="text-center">
                        <img id="avatar-preview" src="https://i.pravatar.cc/128?u=NV001" alt="Avatar" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-gray-600">
                        <h2 class="text-2xl font-bold text-white">Nguyễn Văn An</h2>
                        <p class="text-blue-400">Kỹ sư Cấp cao (Senior)</p>
                    </div>
                    <div class="mt-6">
                        <label for="avatar-upload" class="w-full text-center cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md inline-block">
                            Thay đổi Ảnh
                        </label>
                        <input type="file" id="avatar-upload" class="hidden" accept="image/*">
                    </div>
                    <div class="border-t border-gray-700 my-6"></div>
                    <div>
                        <h3 class="font-semibold text-white mb-4">Thông tin Cơ bản</h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex items-center"><i data-lucide="mail" class="w-4 h-4 mr-3 text-gray-400"></i><span>an.nguyen@company.com</span></div>
                            <div class="flex items-center"><i data-lucide="phone" class="w-4 h-4 mr-3 text-gray-400"></i><span>0901 234 567</span></div>
                            <div class="flex items-center"><i data-lucide="calendar" class="w-4 h-4 mr-3 text-gray-400"></i><span>Ngày vào làm: 15/03/2020</span></div>
                            <div class="flex items-center"><i data-lucide="user-check" class="w-4 h-4 mr-3 text-green-400"></i><span>Trạng thái: Đang hoạt động</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Detailed Form -->
            <div class="lg:col-span-2">
                <div class="bg-gray-800 p-8 rounded-xl border border-gray-700">
                    <form action="#" method="POST">
                        <!-- Section A: Thông Tin Định Danh & Cơ Bản -->
                        <section class="mb-10">
                            <h3 class="text-lg font-semibold text-white border-b border-gray-700 pb-3 mb-6">A. Thông Tin Định Danh & Cơ Bản</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label for="employee_id" class="block text-sm font-medium text-gray-300 mb-2">Mã nhân viên</label>
                                    <input type="text" id="employee_id" value="NV001" class="w-full bg-gray-700 border-gray-600 text-white rounded-md px-3 py-2" readonly>
                                </div>
                                <div>
                                    <label for="full_name" class="block text-sm font-medium text-gray-300 mb-2">Họ và tên</label>
                                    <input type="text" id="full_name" value="Nguyễn Văn An" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                </div>
                                <div>
                                    <label for="join_date" class="block text-sm font-medium text-gray-300 mb-2">Ngày vào làm</label>
                                    <input type="date" id="join_date" value="2020-03-15" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                </div>
                                <div>
                                    <label for="status" class="block text-sm font-medium text-gray-300 mb-2">Trạng thái</label>
                                    <select id="status" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                        <option selected>Đang hoạt động</option>
                                        <option>Nghỉ phép</option>
                                        <option>Đã nghỉ việc</option>
                                    </select>
                                </div>
                            </div>
                        </section>

                        <!-- Section B: Thông Tin Vai Trò & Năng Lực -->
                        <section class="mb-10">
                            <h3 class="text-lg font-semibold text-white border-b border-gray-700 pb-3 mb-6">B. Thông Tin Vai Trò & Năng Lực</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label for="job_title" class="block text-sm font-medium text-gray-300 mb-2">Chức danh</label>
                                    <input type="text" id="job_title" value="Kỹ sư Nông nghiệp" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                </div>
                                <div>
                                    <label for="specialty" class="block text-sm font-medium text-gray-300 mb-2">Chuyên môn chính</label>
                                    <input type="text" id="specialty" value="Sầu riêng, Cây có múi" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                </div>
                                <div>
                                    <label for="engineer_level" class="block text-sm font-medium text-gray-300 mb-2">Cấp bậc</label>
                                    <select id="engineer_level" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                        <option value="0.8">Junior</option>
                                        <option value="1.0">Standard</option>
                                        <option value="1.2" selected>Senior</option>
                                        <option value="1.4">Expert</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="level_coefficient" class="block text-sm font-medium text-gray-300 mb-2">Hệ số Cấp bậc</label>
                                    <input type="number" id="level_coefficient" value="1.2" class="w-full bg-gray-700 border-gray-600 text-white rounded-md px-3 py-2" readonly>
                                </div>
                            </div>
                        </section>

                        <!-- Section C: Thông Tin Quản Lý & Phân Công -->
                        <section class="mb-10">
                            <h3 class="text-lg font-semibold text-white border-b border-gray-700 pb-3 mb-6">C. Thông Tin Quản Lý & Phân Công</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label for="manager_id" class="block text-sm font-medium text-gray-300 mb-2">Người quản lý trực tiếp</label>
                                    <select id="manager_id" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                        <option>Lê Thị Minh - Trưởng phòng Kỹ thuật</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="region_id" class="block text-sm font-medium text-gray-300 mb-2">Vùng/Khu vực phụ trách</label>
                                    <select id="region_id" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
                                        <option selected>Đắk Lắk</option>
                                        <option>Gia Lai</option>
                                    </select>
                                </div>
                                <div class="md:col-span-2">
                                    <label for="assigned_farms" class="block text-sm font-medium text-gray-300 mb-2">Danh sách Vườn phụ trách</label>
                                    <select id="assigned_farms" multiple class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2 h-40">
                                        <option selected>FARM_DL_001 - Vườn ông Năm</option>
                                        <option>FARM_DL_008 - Vườn chị Ba</option>
                                        <option selected>FARM_DL_012 - Vườn anh Bảy</option>
                                        <option selected>FARM_DL_025 - Trang trại GreenFarm</option>
                                    </select>
                                    <p class="text-xs text-gray-500 mt-1">Giữ Ctrl (hoặc Cmd trên Mac) để chọn nhiều vườn.</p>
                                </div>
                            </div>
                        </section>

                        <!-- Section D: Thông Tin Mục Tiêu & Hiệu Suất (Read-only) -->
                        <section class="mb-10">
                            <h3 class="text-lg font-semibold text-white border-b border-gray-700 pb-3 mb-6">D. Thông Tin Hiệu Suất (Kỳ hiện tại)</h3>
                            <div class="bg-gray-900 p-4 rounded-md border border-gray-700">
                                <p class="text-sm"><span class="font-semibold text-gray-400">Kỳ đánh giá:</span> Q4/2025</p>
                                <p class="text-sm mt-1"><span class="font-semibold text-gray-400">Bộ Khung Áp dụng:</span> Tối ưu Đầu vào & Liên kết Đầu ra</p>
                                <div class="mt-4">
                                    <p class="font-semibold text-gray-300 mb-2">Mục tiêu Cá nhân hóa:</p>
                                    <ul class="list-disc list-inside text-sm space-y-1 text-gray-400">
                                        <li>Doanh số Vật tư: 432,000,000 VNĐ</li>
                                        <li>Chất lượng Nông sản: 95 điểm</li>
                                        <li>...</li>
                                    </ul>
                                </div>
                            </div>
                        </section>

                        <!-- Section E: Thông Tin Đào Tạo & Phát Triển -->
                        <section class="mb-10">
                            <h3 class="text-lg font-semibold text-white border-b border-gray-700 pb-3 mb-6">E. Thông Tin Đào Tạo & Phát Triển</h3>
                            <div>
                                <label for="training_history" class="block text-sm font-medium text-gray-300 mb-2">Lịch sử đào tạo</label>
                                <textarea id="training_history" rows="4" class="w-full bg-gray-900 border-gray-600 text-white rounded-md px-3 py-2">
- Q1/2025: Kỹ thuật xử lý ra hoa nghịch vụ trên sầu riêng.
- Q2/2025: Kỹ năng đàm phán và thuyết phục khách hàng.
                                </textarea>
                            </div>
                        </section>

                        <!-- NEW Section F: Quản Lý Tài Liệu & Hồ Sơ -->
                        <section>
                            <div class="flex justify-between items-center border-b border-gray-700 pb-3 mb-6">
                                <h3 class="text-lg font-semibold text-white">F. Quản Lý Tài Liệu & Hồ Sơ</h3>
                                <label for="document-upload" class="cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md flex items-center text-sm">
                                    <i data-lucide="upload-cloud" class="w-4 h-4 mr-2"></i> Tải lên
                                </label>
                                <input type="file" id="document-upload" class="hidden" multiple>
                            </div>
                            <div class="space-y-4">
                                <!-- Document Item 1 -->
                                <div class="bg-gray-900 p-4 rounded-md border border-gray-700 flex items-center justify-between">
                                    <div class="flex items-center">
                                        <i data-lucide="file-text" class="w-8 h-8 text-blue-400 mr-4 shrink-0"></i>
                                        <div>
                                            <p class="font-medium text-white">Hợp đồng lao động 2025.pdf</p>
                                            <p class="text-xs text-gray-500">Tải lên ngày: 15/03/2025</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <button type="button" class="text-gray-400 hover:text-white"><i data-lucide="download" class="w-5 h-5"></i></button>
                                        <button type="button" class="text-red-500 hover:text-red-400"><i data-lucide="trash-2" class="w-5 h-5"></i></button>
                                    </div>
                                </div>
                                <!-- Document Item 2 -->
                                <div class="bg-gray-900 p-4 rounded-md border border-gray-700 flex items-center justify-between">
                                    <div class="flex items-center">
                                        <i data-lucide="file-badge-2" class="w-8 h-8 text-green-400 mr-4 shrink-0"></i>
                                        <div>
                                            <p class="font-medium text-white">Bằng Đại học Nông Lâm.pdf</p>
                                            <p class="text-xs text-gray-500">Tải lên ngày: 15/03/2025</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <button type="button" class="text-gray-400 hover:text-white"><i data-lucide="download" class="w-5 h-5"></i></button>
                                        <button type="button" class="text-red-500 hover:text-red-400"><i data-lucide="trash-2" class="w-5 h-5"></i></button>
                                    </div>
                                </div>
                                <!-- Document Item 3 -->
                                <div class="bg-gray-900 p-4 rounded-md border border-gray-700 flex items-center justify-between">
                                    <div class="flex items-center">
                                        <i data-lucide="file-image" class="w-8 h-8 text-yellow-400 mr-4 shrink-0"></i>
                                        <div>
                                            <p class="font-medium text-white">Chứng chỉ An toàn Lao động.jpg</p>
                                            <p class="text-xs text-gray-500">Tải lên ngày: 20/06/2025</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <button type="button" class="text-gray-400 hover:text-white"><i data-lucide="download" class="w-5 h-5"></i></button>
                                        <button type="button" class="text-red-500 hover:text-red-400"><i data-lucide="trash-2" class="w-5 h-5"></i></button>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Action Buttons -->
                        <div class="mt-10 flex justify-end space-x-4">
                            <button type="button" class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-md">Hủy</button>
                            <button type="submit" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md">Lưu Thay Đổi</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // Script to auto-update level coefficient
        const levelSelect = document.getElementById('engineer_level');
        const coefficientInput = document.getElementById('level_coefficient');
        
        levelSelect.addEventListener('change', function() {
            coefficientInput.value = this.value;
        });

        // Script for avatar preview
        const avatarUpload = document.getElementById('avatar-upload');
        const avatarPreview = document.getElementById('avatar-preview');

        avatarUpload.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    avatarPreview.src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });
    </script>
</body>
</html>
