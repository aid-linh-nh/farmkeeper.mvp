<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tạo Hồ Sơ Kỹ Thuật Viên - Trung tâm DVNN Nhật Phương</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Enhanced Scrollbar */
        .custom-scroll::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 3px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; transition: background 0.3s; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        /* Enhanced Card Styles */
        .card-modern {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .card-modern:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12), 0 8px 16px rgba(0, 0, 0, 0.06);
        }
        
        /* Form Enhancements */
        .form-group {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .form-input {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            background: #ffffff;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
            transform: translateY(-1px);
        }
        
        .form-input.error {
            border-color: #ef4444;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
        }
        
        .form-label.required::after {
            content: " *";
            color: #ef4444;
        }
        
        .error-message {
            color: #ef4444;
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: none;
        }
        
        /* Avatar Upload */
        .avatar-upload {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid #e5e7eb;
            background: #f9fafb;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .avatar-upload:hover {
            border-color: #6366f1;
            background: #f0f9ff;
            transform: scale(1.05);
        }
        
        .avatar-upload.has-image {
            border-color: #10b981;
        }
        
        .avatar-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .avatar-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 50%;
        }
        
        .avatar-upload:hover .avatar-overlay {
            opacity: 1;
        }
        
        /* Progress Indicators */
        .progress-step {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .progress-step.completed {
            background: #10b981;
            color: white;
        }
        
        .progress-step.active {
            background: #6366f1;
            color: white;
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
            animation: pulse 2s infinite;
        }
        
        .progress-step.pending {
            background: #e5e7eb;
            color: #6b7280;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Enhanced Button */
        .btn-enhanced {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .btn-enhanced::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }
        
        .btn-enhanced:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn-enhanced:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        /* Animations */
        @keyframes slideInUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .animate-slide-up {
            animation: slideInUp 0.5s ease-out;
        }
        
        /* Input Icons */
        .input-with-icon {
            position: relative;
        }
        
        .input-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            z-index: 10;
        }
        
        .input-with-icon .form-input {
            padding-left: 2.5rem;
        }
        
        /* Success/Error States */
        .input-success {
            border-color: #10b981;
            background-color: #f0fdf4;
        }
        
        .input-error {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        
        /* Phone Input */
        .phone-input-group {
            display: flex;
            gap: 0.5rem;
        }
        
        .country-code {
            width: 80px;
            flex-shrink: 0;
        }
        
        /* Date Input Enhancement */
        .date-input {
            position: relative;
        }
        
        .date-input input[type="date"] {
            position: relative;
            z-index: 1;
        }
        
        .date-input::before {
            content: '\f073';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            pointer-events: none;
            z-index: 2;
        }
        
        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: #6366f1;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .progress-step {
                width: 2.5rem;
                height: 2.5rem;
                font-size: 0.75rem;
            }
            
            .card-modern {
                border-radius: 16px;
                margin: 8px;
            }
            
            .avatar-upload {
                width: 100px;
                height: 100px;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white/90 backdrop-filter backdrop-blur-xl shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between py-4">
                <div class="flex items-center space-x-4">
                    <button onclick="history.back()" class="bg-gray-100 text-gray-600 w-10 h-10 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-all btn-enhanced">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-user-plus text-indigo-600 mr-3"></i>
                            Thêm Kỹ Thuật Viên Mới
                        </h1>
                        <p class="text-sm text-gray-600">Tạo hồ sơ nhân viên và phân công vườn phụ trách</p>
                    </div>
                </div>
                <div class="flex items-center space-x-3">
                    <button class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-200 transition-all btn-enhanced">
                        <i class="fas fa-save mr-2"></i>Lưu nháp
                    </button>
                    <button class="bg-red-100 text-red-700 px-4 py-2 rounded-lg text-sm hover:bg-red-200 transition-all btn-enhanced">
                        <i class="fas fa-times mr-2"></i>Hủy
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Progress Indicator -->
        <div class="mb-8">
            <div class="flex items-center justify-center space-x-8">
                <div class="flex flex-col items-center">
                    <div class="progress-step active">1</div>
                    <span class="text-sm font-medium text-indigo-600 mt-2">Thông tin cá nhân</span>
                </div>
                <div class="flex-1 h-0.5 bg-gray-300"></div>
                <div class="flex flex-col items-center">
                    <div class="progress-step pending">2</div>
                    <span class="text-sm font-medium text-gray-500 mt-2">Kinh nghiệm & Kỹ năng</span>
                </div>
                <div class="flex-1 h-0.5 bg-gray-300"></div>
                <div class="flex flex-col items-center">
                    <div class="progress-step pending">3</div>
                    <span class="text-sm font-medium text-gray-500 mt-2">Phân công vườn</span>
                </div>
                <div class="flex-1 h-0.5 bg-gray-300"></div>
                <div class="flex flex-col items-center">
                    <div class="progress-step pending">4</div>
                    <span class="text-sm font-medium text-gray-500 mt-2">Xác nhận</span>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <!-- Main Form -->
            <div class="lg:col-span-8">
                <!-- Step 1: Personal Information -->
                <div id="step1" class="card-modern animate-slide-up">
                    <div class="p-8">
                        <div class="flex items-center space-x-3 mb-6">
                            <div class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-user text-indigo-600 text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-bold text-gray-800">Thông tin cá nhân</h2>
                                <p class="text-gray-600">Nhập đầy đủ thông tin cơ bản của nhân viên mới</p>
                            </div>
                        </div>

                        <form class="space-y-6" id="personalInfoForm">
                            <!-- Avatar Upload -->
                            <div class="form-group text-center">
                                <label class="form-label">
                                    <i class="fas fa-camera text-indigo-500 mr-2"></i>
                                    Ảnh đại diện
                                </label>
                                <div class="flex justify-center">
                                    <div class="avatar-upload" onclick="document.getElementById('avatarInput').click()">
                                        <input type="file" id="avatarInput" accept="image/*" style="display: none;" onchange="previewAvatar(this)">
                                        <div id="avatarPlaceholder">
                                            <i class="fas fa-camera text-gray-400 text-2xl"></i>
                                            <p class="text-xs text-gray-500 mt-2">Chọn ảnh</p>
                                        </div>
                                        <div class="avatar-overlay">
                                            <i class="fas fa-edit text-white text-lg"></i>
                                        </div>
                                    </div>
                                </div>
                                <p class="text-xs text-gray-500 mt-2">Định dạng: JPG, PNG. Kích thước tối đa: 2MB</p>
                            </div>

                            <!-- Basic Information -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="form-group">
                                    <label class="form-label required">
                                        <i class="fas fa-user text-blue-500 mr-2"></i>
                                        Họ và tên
                                    </label>
                                    <div class="input-with-icon">
                                        <i class="fas fa-user input-icon"></i>
                                        <input type="text" class="form-input" placeholder="Nguyễn Văn An" 
                                               id="fullName" required onblur="validateField(this)">
                                    </div>
                                    <div class="error-message" id="fullName-error">Vui lòng nhập họ tên</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label required">
                                        <i class="fas fa-calendar text-green-500 mr-2"></i>
                                        Ngày sinh
                                    </label>
                                    <div class="date-input">
                                        <input type="date" class="form-input" 
                                               id="birthDate" required onblur="validateField(this)">
                                    </div>
                                    <div class="error-message" id="birthDate-error">Vui lòng chọn ngày sinh</div>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="form-group">
                                    <label class="form-label required">
                                        <i class="fas fa-venus-mars text-purple-500 mr-2"></i>
                                        Giới tính
                                    </label>
                                    <select class="form-input" id="gender" required onblur="validateField(this)">
                                        <option value="">Chọn giới tính</option>
                                        <option value="male">Nam</option>
                                        <option value="female">Nữ</option>
                                        <option value="other">Khác</option>
                                    </select>
                                    <div class="error-message" id="gender-error">Vui lòng chọn giới tính</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label required">
                                        <i class="fas fa-id-card text-orange-500 mr-2"></i>
                                        Số CCCD/CMND
                                    </label>
                                    <div class="input-with-icon">
                                        <i class="fas fa-id-card input-icon"></i>
                                        <input type="text" class="form-input" placeholder="001234567890" 
                                               id="idNumber" required onblur="validateField(this)" maxlength="12">
                                    </div>
                                    <div class="error-message" id="idNumber-error">Vui lòng nhập số CCCD/CMND hợp lệ</div>
                                </div>
                            </div>

                            <!-- Contact Information -->
                            <div class="border-t border-gray-200 pt-6">
                                <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-address-book text-indigo-500 mr-2"></i>
                                    Thông tin liên hệ
                                </h3>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="form-group">
                                        <label class="form-label required">
                                            <i class="fas fa-phone text-green-500 mr-2"></i>
                                            Số điện thoại
                                        </label>
                                        <div class="phone-input-group">
                                            <select class="form-input country-code">
                                                <option value="+84">+84</option>
                                                <option value="+1">+1</option>
                                                <option value="+86">+86</option>
                                            </select>
                                            <div class="input-with-icon flex-1">
                                                <i class="fas fa-phone input-icon"></i>
                                                <input type="tel" class="form-input" placeholder="912345678" 
                                                       id="phoneNumber" required onblur="validateField(this)">
                                            </div>
                                        </div>
                                        <div class="error-message" id="phoneNumber-error">Vui lòng nhập số điện thoại hợp lệ</div>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label required">
                                            <i class="fas fa-envelope text-blue-500 mr-2"></i>
                                            Email
                                        </label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-envelope input-icon"></i>
                                            <input type="email" class="form-input" placeholder="nguyen.van.an@email.com" 
                                                   id="email" required onblur="validateField(this)">
                                        </div>
                                        <div class="error-message" id="email-error">Vui lòng nhập email hợp lệ</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Address Information -->
                            <div class="form-group">
                                <label class="form-label required">
                                    <i class="fas fa-map-marker-alt text-red-500 mr-2"></i>
                                    Địa chỉ thường trú
                                </label>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <select class="form-input" id="province" onchange="loadDistricts()" required>
                                        <option value="">Chọn Tỉnh/Thành phố</option>
                                        <option value="daklak">Đắk Lắk</option>
                                        <option value="daknong">Đắk Nông</option>
                                        <option value="gialai">Gia Lai</option>
                                        <option value="kontum">Kon Tum</option>
                                    </select>
                                    <select class="form-input" id="district" onchange="loadWards()" required>
                                        <option value="">Chọn Quận/Huyện</option>
                                    </select>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                                    <select class="form-input" id="ward" required>
                                        <option value="">Chọn Phường/Xã</option>
                                    </select>
                                    <input type="text" class="form-input" placeholder="Số nhà, tên đường" 
                                           id="streetAddress" required>
                                </div>
                                <div class="error-message" id="address-error">Vui lòng nhập đầy đủ địa chỉ</div>
                            </div>

                            <!-- Family Information -->
                            <div class="border-t border-gray-200 pt-6">
                                <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-users text-purple-500 mr-2"></i>
                                    Thông tin gia đình
                                </h3>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fas fa-heart text-pink-500 mr-2"></i>
                                            Tình trạng hôn nhân
                                        </label>
                                        <select class="form-input" id="maritalStatus">
                                            <option value="">Chọn tình trạng</option>
                                            <option value="single">Độc thân</option>
                                            <option value="married">Đã kết hôn</option>
                                            <option value="divorced">Đã ly hôn</option>
                                            <option value="widowed">Góa</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fas fa-baby text-yellow-500 mr-2"></i>
                                            Số con
                                        </label>
                                        <input type="number" class="form-input" placeholder="0" min="0" max="10" id="children">
                                    </div>
                                </div>

                                <!-- Emergency Contact -->
                                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mt-4">
                                    <h4 class="font-semibold text-red-800 mb-3 flex items-center">
                                        <i class="fas fa-exclamation-triangle text-red-600 mr-2"></i>
                                        Người liên hệ khẩn cấp
                                    </h4>
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <input type="text" class="form-input" placeholder="Họ tên" id="emergencyName" required>
                                        <input type="text" class="form-input" placeholder="Mối quan hệ" id="emergencyRelation" required>
                                        <input type="tel" class="form-input" placeholder="Số điện thoại" id="emergencyPhone" required>
                                    </div>
                                </div>
                            </div>

                            <!-- Bank Information -->
                            <div class="border-t border-gray-200 pt-6">
                                <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-university text-green-600 mr-2"></i>
                                    Thông tin ngân hàng
                                </h3>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="form-group">
                                        <label class="form-label required">
                                            <i class="fas fa-building text-blue-500 mr-2"></i>
                                            Ngân hàng
                                        </label>
                                        <select class="form-input" id="bankName" required>
                                            <option value="">Chọn ngân hàng</option>
                                            <option value="vietcombank">Vietcombank</option>
                                            <option value="vietinbank">VietinBank</option>
                                            <option value="bidv">BIDV</option>
                                            <option value="agribank">Agribank</option>
                                            <option value="acb">ACB</option>
                                            <option value="tcb">Techcombank</option>
                                            <option value="mbbank">MB Bank</option>
                                            <option value="vpbank">VPBank</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label required">
                                            <i class="fas fa-credit-card text-purple-500 mr-2"></i>
                                            Số tài khoản
                                        </label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-credit-card input-icon"></i>
                                            <input type="text" class="form-input" placeholder="0123456789" 
                                                   id="bankAccount" required onblur="validateField(this)">
                                        </div>
                                        <div class="error-message" id="bankAccount-error">Vui lòng nhập số tài khoản hợp lệ</div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label required">
                                        <i class="fas fa-user-tie text-indigo-500 mr-2"></i>
                                        Tên chủ tài khoản
                                    </label>
                                    <input type="text" class="form-input" placeholder="NGUYEN VAN AN" 
                                           id="accountHolder" required style="text-transform: uppercase;">
                                </div>
                            </div>

                            <!-- Additional Notes -->
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-sticky-note text-yellow-500 mr-2"></i>
                                    Ghi chú thêm
                                </label>
                                <textarea class="form-input" rows="4" placeholder="Thông tin bổ sung về nhân viên..." id="notes"></textarea>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Sidebar Info -->
            <div class="lg:col-span-4 space-y-6">
                <!-- Form Progress -->
                <div class="card-modern">
                    <div class="p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-clipboard-check text-indigo-600 mr-2"></i>
                            Tiến độ hoàn thành
                        </h3>
                        
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-gray-600">Thông tin bắt buộc:</span>
                                <span class="font-bold text-gray-800" id="requiredProgress">0/12</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-3">
                                <div class="bg-indigo-600 h-3 rounded-full transition-all duration-500" 
                                     style="width: 0%" id="progressBar"></div>
                            </div>
                            <div class="text-xs text-gray-500">
                                Hoàn thành tối thiểu 80% để chuyển sang bước tiếp theo
                            </div>
                        </div>

                        <div class="mt-6 space-y-3">
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-gray-300 rounded-full" id="check-basic"></div>
                                <span class="text-sm text-gray-600">Thông tin cơ bản</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-gray-300 rounded-full" id="check-contact"></div>
                                <span class="text-sm text-gray-600">Thông tin liên hệ</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-gray-300 rounded-full" id="check-address"></div>
                                <span class="text-sm text-gray-600">Địa chỉ</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-gray-300 rounded-full" id="check-bank"></div>
                                <span class="text-sm text-gray-600">Thông tin ngân hàng</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tips & Guidelines -->
                <div class="card-modern">
                    <div class="p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                            Hướng dẫn & Lưu ý
                        </h3>
                        
                        <div class="space-y-4">
                            <div class="bg-blue-50 p-3 rounded-lg border border-blue-200">
                                <div class="flex items-start space-x-2">
                                    <i class="fas fa-info-circle text-blue-600 mt-1"></i>
                                    <div>
                                        <p class="text-sm font-medium text-blue-800 mb-1">Thông tin bắt buộc</p>
                                        <p class="text-xs text-blue-700">Các trường có dấu (*) là bắt buộc và phải điền đầy đủ</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-green-50 p-3 rounded-lg border border-green-200">
                                <div class="flex items-start space-x-2">
                                    <i class="fas fa-camera text-green-600 mt-1"></i>
                                    <div>
                                        <p class="text-sm font-medium text-green-800 mb-1">Ảnh đại diện</p>
                                        <p class="text-xs text-green-700">Nên sử dụng ảnh chân dung, rõ nét, kích thước nhỏ hơn 2MB</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-orange-50 p-3 rounded-lg border border-orange-200">
                                <div class="flex items-start space-x-2">
                                    <i class="fas fa-shield-alt text-orange-600 mt-1"></i>
                                    <div>
                                        <p class="text-sm font-medium text-orange-800 mb-1">Bảo mật thông tin</p>
                                        <p class="text-xs text-orange-700">Thông tin cá nhân sẽ được bảo mật theo quy định</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-purple-50 p-3 rounded-lg border border-purple-200">
                                <div class="flex items-start space-x-2">
                                    <i class="fas fa-edit text-purple-600 mt-1"></i>
                                    <div>
                                        <p class="text-sm font-medium text-purple-800 mb-1">Chỉnh sửa sau</p>
                                        <p class="text-xs text-purple-700">Có thể cập nhật thông tin sau khi tạo hồ sơ</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Team Stats -->
                <div class="card-modern">
                    <div class="p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-users text-green-600 mr-2"></i>
                            Đội ngũ hiện tại
                        </h3>
                        
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-gray-600">Tổng số KTV:</span>
                                <span class="font-bold text-gray-800">12 người</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-gray-600">Tuyển dụng tháng này:</span>
                                <span class="font-bold text-blue-600">2 người</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-gray-600">Độ tuổi trung bình:</span>
                                <span class="font-bold text-green-600">32 tuổi</span>
                            </div>
                            
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <p class="text-xs text-gray-500 mb-2">Phân bố theo khu vực:</p>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between text-xs">
                                        <span>Cú M'gar</span>
                                        <span class="font-medium">3 KTV</span>
                                    </div>
                                    <div class="flex items-center justify-between text-xs">
                                        <span>Krông Búk</span>
                                        <span class="font-medium">3 KTV</span>
                                    </div>
                                    <div class="flex items-center justify-between text-xs">
                                        <span>Krông Năng</span>
                                        <span class="font-medium">3 KTV</span>
                                    </div>
                                    <div class="flex items-center justify-between text-xs">
                                        <span>Krông Bông</span>
                                        <span class="font-medium">3 KTV</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="flex items-center justify-between mt-8 pt-6 border-t border-gray-200">
            <div class="flex items-center space-x-3">
                <button class="bg-gray-100 text-gray-700 px-6 py-3 rounded-xl text-sm hover:bg-gray-200 transition-all btn-enhanced" disabled>
                    <i class="fas fa-arrow-left mr-2"></i>Quay lại
                </button>
                <span class="text-sm text-gray-500">Bước 1/4</span>
            </div>
            
            <div class="flex items-center space-x-3">
                <button id="previewBtn" class="bg-yellow-500 text-white px-6 py-3 rounded-xl text-sm hover:bg-yellow-600 transition-all btn-enhanced" onclick="previewForm()" disabled>
                    <i class="fas fa-eye mr-2"></i>Xem trước
                </button>
                <button id="nextBtn" class="bg-indigo-600 text-white px-6 py-3 rounded-xl text-sm hover:bg-indigo-700 transition-all btn-enhanced" onclick="nextStep()" disabled>
                    Tiếp tục
                    <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>
    </main>

    <script>
        // Enhanced JavaScript for Personal Information Form
        let currentStep = 1;
        let formData = {};
        let requiredFields = ['fullName', 'birthDate', 'gender', 'idNumber', 'phoneNumber', 'email', 'province', 'district', 'ward', 'streetAddress', 'emergencyName', 'emergencyPhone', 'bankName', 'bankAccount', 'accountHolder'];
        let completedFields = 0;

        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            setupRealTimeValidation();
        });

        function previewAvatar(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const avatarUpload = document.querySelector('.avatar-upload');
                    avatarUpload.innerHTML = `
                        <img src="${e.target.result}" alt="Avatar" class="avatar-preview">
                        <div class="avatar-overlay">
                            <i class="fas fa-edit text-white text-lg"></i>
                        </div>
                    `;
                    avatarUpload.classList.add('has-image');
                };
                reader.readAsDataURL(input.files[0]);
                updateProgress();
            }
        }

        function validateField(field) {
            const value = field.value.trim();
            const fieldId = field.id;
            const errorElement = document.getElementById(fieldId + '-error');
            let isValid = true;

            // Remove previous validation classes
            field.classList.remove('input-error', 'input-success');

            switch(fieldId) {
                case 'fullName':
                    isValid = value.length >= 2 && /^[a-zA-ZÀ-ỹ\s]+$/.test(value);
                    break;
                case 'birthDate':
                    const birthDate = new Date(value);
                    const today = new Date();
                    const age = today.getFullYear() - birthDate.getFullYear();
                    isValid = value && age >= 18 && age <= 65;
                    break;
                case 'idNumber':
                    isValid = /^[0-9]{9,12}$/.test(value);
                    break;
                case 'phoneNumber':
                    isValid = /^[0-9]{9,10}$/.test(value);
                    break;
                case 'email':
                    isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
                    break;
                case 'bankAccount':
                    isValid = /^[0-9]{6,20}$/.test(value);
                    break;
                default:
                    isValid = value.length > 0;
            }

            if (isValid) {
                field.classList.add('input-success');
                if (errorElement) errorElement.style.display = 'none';
            } else {
                field.classList.add('input-error');
                if (errorElement) errorElement.style.display = 'block';
            }

            updateProgress();
            return isValid;
        }

        function updateProgress() {
            completedFields = 0;
            
            // Check required fields
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field && field.value.trim()) {
                    completedFields++;
                }
            });

            // Check avatar
            if (document.querySelector('.avatar-upload').classList.contains('has-image')) {
                completedFields++;
            }

            const progressPercentage = Math.round((completedFields / (requiredFields.length + 1)) * 100);
            
            // Update progress bar
            document.getElementById('progressBar').style.width = progressPercentage + '%';
            document.getElementById('requiredProgress').textContent = `${completedFields}/${requiredFields.length + 1}`;

            // Update section indicators
            updateSectionIndicators();

            // Enable/disable buttons
            const isFormValid = progressPercentage >= 80;
            document.getElementById('previewBtn').disabled = !isFormValid;
            document.getElementById('nextBtn').disabled = !isFormValid;

            if (isFormValid) {
                document.getElementById('previewBtn').classList.remove('opacity-50');
                document.getElementById('nextBtn').classList.remove('opacity-50');
            } else {
                document.getElementById('previewBtn').classList.add('opacity-50');
                document.getElementById('nextBtn').classList.add('opacity-50');
            }
        }

        function updateSectionIndicators() {
            // Basic info
            const basicFields = ['fullName', 'birthDate', 'gender', 'idNumber'];
            const basicCompleted = basicFields.every(field => document.getElementById(field).value.trim());
            updateIndicator('check-basic', basicCompleted);

            // Contact info
            const contactFields = ['phoneNumber', 'email'];
            const contactCompleted = contactFields.every(field => document.getElementById(field).value.trim());
            updateIndicator('check-contact', contactCompleted);

            // Address
            const addressFields = ['province', 'district', 'ward', 'streetAddress'];
            const addressCompleted = addressFields.every(field => document.getElementById(field).value.trim());
            updateIndicator('check-address', addressCompleted);

            // Bank info
            const bankFields = ['bankName', 'bankAccount', 'accountHolder'];
            const bankCompleted = bankFields.every(field => document.getElementById(field).value.trim());
            updateIndicator('check-bank', bankCompleted);
        }

        function updateIndicator(indicatorId, completed) {
            const indicator = document.getElementById(indicatorId);
            if (completed) {
                indicator.className = 'w-3 h-3 bg-green-500 rounded-full';
            } else {
                indicator.className = 'w-3 h-3 bg-gray-300 rounded-full';
            }
        }

        function setupRealTimeValidation() {
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.addEventListener('input', function() {
                        validateField(this);
                    });
                }
            });
        }

        function loadDistricts() {
            const province = document.getElementById('province').value;
            const districtSelect = document.getElementById('district');
            
            // Clear previous options
            districtSelect.innerHTML = '<option value="">Chọn Quận/Huyện</option>';
            
            // Mock data for districts
            const districts = {
                'daklak': [
                    {value: 'buonmathuot', text: 'TP. Buôn Ma Thuột'},
                    {value: 'cugar', text: 'Cú M\'gar'},
                    {value: 'krong-buk', text: 'Krông Búk'},
                    {value: 'krong-nang', text: 'Krông Năng'},
                    {value: 'krong-bong', text: 'Krông Bông'}
                ]
            };
            
            if (districts[province]) {
                districts[province].forEach(district => {
                    const option = document.createElement('option');
                    option.value = district.value;
                    option.textContent = district.text;
                    districtSelect.appendChild(option);
                });
            }
            
            // Clear ward selection
            document.getElementById('ward').innerHTML = '<option value="">Chọn Phường/Xã</option>';
            updateProgress();
        }

        function loadWards() {
            const district = document.getElementById('district').value;
            const wardSelect = document.getElementById('ward');
            
            // Clear previous options
            wardSelect.innerHTML = '<option value="">Chọn Phường/Xã</option>';
            
            // Mock data for wards
            const wards = {
                'cugar': [
                    {value: 'cugar', text: 'Thị trấn Cú M\'gar'},
                    {value: 'cuebur', text: 'Xã Cư EBur'},
                    {value: 'cusuoh', text: 'Xã Cư Suôh'}
                ],
                'krong-buk': [
                    {value: 'krong-buk', text: 'Thị trấn Krông Búk'},
                    {value: 'cukuin', text: 'Xã Cư Kuin'},
                    {value: 'ea-wer', text: 'Xã Ea Wer'}
                ]
            };
            
            if (wards[district]) {
                wards[district].forEach(ward => {
                    const option = document.createElement('option');
                    option.value = ward.value;
                    option.textContent = ward.text;
                    wardSelect.appendChild(option);
                });
            }
            
            updateProgress();
        }

        function previewForm() {
            // Collect form data
            collectFormData();
            
            // Show preview modal (simplified)
            alert('Xem trước thông tin:\n\n' + 
                  'Họ tên: ' + formData.fullName + '\n' +
                  'Ngày sinh: ' + formData.birthDate + '\n' +
                  'Email: ' + formData.email + '\n' +
                  'Điện thoại: ' + formData.phoneNumber);
        }

        function collectFormData() {
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    formData[fieldId] = field.value;
                }
            });
            
            // Additional fields
            formData.maritalStatus = document.getElementById('maritalStatus').value;
            formData.children = document.getElementById('children').value;
            formData.emergencyRelation = document.getElementById('emergencyRelation').value;
            formData.notes = document.getElementById('notes').value;
        }

        function nextStep() {
            if (validateForm()) {
                collectFormData();
                currentStep = 2;
                showStep2();
            }
        }

        function validateForm() {
            let isValid = true;
            
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field && !validateField(field)) {
                    isValid = false;
                }
            });
            
            if (!isValid) {
                alert('Vui lòng kiểm tra lại thông tin đã nhập!');
            }
            
            return isValid;
        }

        function showStep2() {
            // Navigate to Step 2: Experience & Skills
            window.location.href = '#step2';
            // In real implementation, this would load the next step
            alert('Chuyển sang Bước 2: Kinh nghiệm & Kỹ năng');
        }

        // Auto-uppercase bank account holder name
        document.getElementById('accountHolder').addEventListener('input', function(e) {
            e.target.value = e.target.value.toUpperCase();
        });

        // Format phone number input
        document.getElementById('phoneNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 10) value = value.slice(0, 10);
            e.target.value = value;
        });

        // Format ID number input
        document.getElementById('idNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 12) value = value.slice(0, 12);
            e.target.value = value;
        });
    </script>
</body>
</html>